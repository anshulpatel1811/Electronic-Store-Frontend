<div class="cart-item-container" *ngIf="cartItem">
    <div class="cart-item">
      <div class="item-image">
        <img [src]="productService.getProductImageUrl(cartItem.product.productId)" 
             [alt]="cartItem.product.title" 
             class="product-image">
      </div>
      
      <div class="item-details">
        <div class="item-header">
          <h3 class="product-title">{{ cartItem.product.title }}</h3>
          <div class="badge" *ngIf="calculateDiscount(cartItem.product.price, cartItem.product.discountedPrice) > 0">
            {{calculateDiscount(cartItem.product.price, cartItem.product.discountedPrice)}}% OFF
          </div>
        </div>
        
        <div class="item-meta">
          <div class="price-info">
            <span class="current-price">₹{{ cartItem.product.discountedPrice }}</span>
            <span class="original-price" *ngIf="cartItem.product.price !== cartItem.product.discountedPrice">
              ₹{{ cartItem.product.price }}
            </span>
          </div>
          
          <div class="availability">
            <span class="in-stock">In Stock</span>
          </div>
        </div>
        
        <div class="item-actions">
          <div class="quantity-controls">
            <button class="btn-control decrease" (click)="decreaseQuantity(cartItem)" 
                    [disabled]="cartItem.quantity <= 1">
              <span>−</span>
            </button>
            <span class="quantity">{{ cartItem.quantity }}</span>
            <button class="btn-control increase" (click)="increaseQuantity(cartItem)">
              <span>+</span>
            </button>
          </div>
          
          <div class="item-total">
            <span class="total-label">Total:</span>
            <span class="total-price">₹{{ cartItem.totalPrice }}</span>
          </div>
          
          <button class="btn-remove-solid" (click)="deleteItem(cartItem)">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <polyline points="3 6 5 6 21 6"></polyline>
              <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
            </svg>
            <span>Remove Item</span>
          </button>
        </div>
      </div>
    </div>
  </div>